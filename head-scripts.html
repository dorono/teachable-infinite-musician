<meta
  name="facebook-domain-verification"
  content="9mfpgoflo3fb6pz6fs5gyh075x8vct"
/>

<!-- begin code that was perhaps mistakenly removed -->
<link href="https://vjs.zencdn.net/8.5.2/video-js.css" rel="stylesheet" />

<link
  href="https://cdn.jsdelivr.net/gh/dorono/teachable-infinite-musician/video-player/im-video-player.css"
  rel="stylesheet"
  type="text/css"
/>

<script src="https://cdn.jsdelivr.net/gh/dorono/teachable-infinite-musician/video-player/im-video-player.js"></script>

<!-- end code that was perhaps mistakenly removed -->

<script
  type="text/javascript"
  src="//platform-api.sharethis.com/js/sharethis.js#property=5c4f8b3fc9830d001319af9b&product=inline-share-buttons"
  async="async"
></script>

<script>
  $(function () {
    // $('a[data-role=course-box-link]').each(function(idx,el) {
    //   $(this).on('click',function(e) {
    //     e.stopPropagation();
    //     console.log('IT WORKED');
    //   });
    // });
  
  
  // Red alert banner  
  // var $banner = $(`
  //   <div id="alert-banner" style="background-color:#ff0000; text-align:center;">
  //     <div class="container">
  //       <div class="col-xs-12">
  //         <em style="color: #fff">ENDING WED 11:59pm PST - </em>
  //         <span style="font-weight: bold; color: yellow">30% Off</span>
  //         <span style="color: #fff"> All Courses, Use Coupon Code </span>
  //         <span style="font-weight: bold; color: yellow">FALL30</span>
  //       </div>
  //     </div>
  //   </div>
  // `);
  

  // $('body').prepend($banner);
  

    var queryString = window.location.search;
    var urlParams = new URLSearchParams(queryString);
    var region = urlParams.get('region')

    if (region || localStorage.getItem('REGION')) {
      if (localStorage.getItem('REGION')) {
        region = localStorage.getItem('REGION');
      } else {
         localStorage.setItem('REGION', region)
      }
      $('.view-school:first').addClass('region-'+ region);
      
    }

    var cssCourseBodySelector = "";
    var cssPageSelector = (cssPageSelector =
      window.location.pathname.split("/")[2] || "");
    $("body").addClass("im");

    if (
      window.location.pathname.indexOf(
        "sax-lessons-with-the-stars/lectures"
      ) !== -1 ||
      window.location.pathname.indexOf("691872") !== -1
    ) {
      $("body").addClass("slws-curriculum");
    }

    if (
      window.location.pathname.indexOf("lightning") !== -1 ||
      window.location.pathname.indexOf("ultimate-guide") !== -1 ||
      window.location.pathname.indexOf("sax-lessons-with-the-stars") !== -1 ||
      window.location.pathname.indexOf("bach-shapes") !== -1 ||
      window.location.pathname.indexOf("fun-and-modern-tunes") !== -1 ||
      window.location.pathname.indexOf("little-leaps-and-sounds") !== -1 ||
      window.location.pathname.indexOf("one-chorus-wonders") !== -1
    ) {
      cssCourseBodySelector = "lfcc";

      if (window.location.pathname.indexOf("ultimate-guide") !== -1) {
        cssCourseBodySelector = cssCourseBodySelector + " ugssp";
      }

      if (
        window.location.pathname.indexOf("sax-lessons-with-the-stars") !== -1
      ) {
        cssCourseBodySelector = cssCourseBodySelector + " slws";
      }

      if (window.location.pathname.indexOf("bach-shapes") !== -1) {
        cssCourseBodySelector = cssCourseBodySelector + " bs";
      }

      if (window.location.pathname.indexOf("fun-and-modern-tunes") !== -1) {
        cssCourseBodySelector = " famt";
      }

      if (
        window.location.pathname.indexOf("little-leaps-and-sounds") !== -1 ||
        window.location.pathname.indexOf(2413545) !== -1
      ) {
        cssCourseBodySelector = " lls";
      }

      if (window.location.pathname.indexOf("one-chorus-wonders") !== -1) {
        cssCourseBodySelector = " ocw";
      }
    }

    if (cssCourseBodySelector) {
      $("body").addClass(cssCourseBodySelector);
    }

    if (cssPageSelector) {
      $("body").addClass(cssPageSelector);
    }

    $(".custom-header").each(function () {
      $(this)
        .parents()
        .closest(".container")
        .addClass("custom-header-container");
    });

    console.log("VAL", $("#course-id-val").text());

    var lowerCasePath = window.location.href.toLowerCase();
    if (lowerCasePath.indexOf("music-practice-for-busy-people") !== -1) {
      $(".btn-enroll").each(function (idx, elem) {
        $(elem).text($(elem).text().replace("Enroll", "Pre-Enroll"));
      });
    }

    /*
    var lowerCasePath = window.location.href.toLowerCase();
     if (lowerCasePath.indexOf('giantsound') !== -1) {
        $('.ugssp .reg-price').each(function (idx, elem) {
            $(elem).hide();
        });
        $('.ugssp .discount').each(function (idx, elem) {
            $(elem).show();
        });
    } else {
        $('.ugssp .reg-price').each(function (idx, elem) {
            $(elem).show();
        });
        $('.ugssp .discount').each(function (idx, elem) {
            $(elem).hide();
        });
    }*/

    // insert gift card messaging below all couse purchase buttons
    if ($(".blocks-page-course_sales_page").length) {
      $(".security-v2").each(function () {
        $(this).after(
          '<span class="gift-card-message">üéÅ Looking to purchase this for someone else? At checkout, just check the "Send as a gift" check box.</span>'
        );
      });
    }
  });
</script>

<!-- Global site tag (gtag.js) - Google Ads: 1016009350 -->
<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=AW-1016009350"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "AW-1016009350");
</script>

<!-- Facebook Pixel Code -->
<script>
  !(function (f, b, e, v, n, t, s) {
    if (f.fbq) return;
    n = f.fbq = function () {
      n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);
    };
    if (!f._fbq) f._fbq = n;
    n.push = n;
    n.loaded = !0;
    n.version = "2.0";
    n.queue = [];
    t = b.createElement(e);
    t.async = !0;
    t.src = v;
    s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s);
  })(
    window,
    document,
    "script",
    "https://connect.facebook.net/en_US/fbevents.js"
  );
  fbq("init", "751675342232877");
  fbq("track", "PageView");
  fbq("dataProcessingOptions", ["LDU"], 0, 0);
</script>
<noscript
  ><img
    height="1"
    width="1"
    style="display: none"
    src="https://www.facebook.com/tr?id=751675342232877&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

<!--<script>
    function createAudioPlayer(songsData, tempo) {
        const container = document.querySelector('.audioContainer');

        // Label for the selected song
        const songLabel = document.createElement('h4');

        if (songsData.length > 1) {
            // Create the songs dropdown with a label
            const dropdownLabel = document.createElement('label');
            dropdownLabel.textContent = 'Selected Track: ';
            dropdownLabel.htmlFor = 'songDropdown';
        
            const songDropdown = document.createElement('select');
            songDropdown.id = 'songDropdown';

            // Populate the dropdown with song options
            songsData.forEach(song => {
                const option = document.createElement('option');
                option.value = song.file; // URL of the audio file
                option.textContent = song.label; // Display label
                songDropdown.appendChild(option);
            });

            container.appendChild(dropdownLabel);
            container.appendChild(songDropdown);

            // Change event for the dropdown
            songDropdown.addEventListener('change', function() {
                loadSong(this.value, songLabel, tempo);
            });

            // Load the first song by default
            loadSong(songsData[0].file, songLabel, tempo);
        } else if (songsData.length === 1) {
            // Load the single song without the dropdown
            container.appendChild(songLabel); // Include the Now Playing line
            loadSong(songsData[0].file, songLabel, tempo);
        }
    }

    function loadSong(fileName, songLabel = null, tempo) {
        const fileParts = fileName.split('/');
        const rawFileName = fileParts[fileParts.length - 1]; // Get last part
        const sanitizedID = rawFileName.replace(/\s+/g, '-').replace(/\.[^/.]+$/, ''); // Remove file extension for the ID

        // Clear previous elements (if any), but preserve extra elements like the song label
        const container = document.querySelector('.audioContainer');
        container.querySelectorAll('audio, div').forEach(el => el.remove());

        const speeds = [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];

        // Create audio element
        const audio = document.createElement('audio');
        audio.controls = true;
        const source = document.createElement('source');
        source.src = fileName;
        source.type = 'audio/mpeg';
        audio.appendChild(source);

        // Create a div for the dropdown menu for speeds
        const selectContainer = document.createElement('div');
        selectContainer.style.marginTop = '10px'; // Optional styling

        // Create label and select elements
        const label = document.createElement('label');
        label.textContent = 'Playback Speed: ';
        const select = document.createElement('select');
        select.id = `playbackSpeed-${sanitizedID}`; // Unique ID for each select element

        // Determine the tempo for the selected song
        let songTempo = tempo; // Start with the default tempo
        const selectedSong = songsData.find(song => song.file === fileName);
        if (selectedSong.bpm) {
            songTempo = selectedSong.bpm; // Override with the song's bpm if it exists
        }

        // Populate dropdown options based on the determined tempo
        speeds.forEach(speed => {
            const option = document.createElement('option');
            option.value = speed;
            option.textContent = `${speed}x (${Math.round(songTempo * speed)} bpm)`; // Use the determined tempo
            if (speed === 1) option.selected = true;
            select.appendChild(option);
        });

        // Add event listener to change playback rate
        select.addEventListener('change', function() {
            audio.playbackRate = parseFloat(this.value);
        });

        // Append label and select to the select container div
        selectContainer.appendChild(label);
        selectContainer.appendChild(select);

        // Append elements to the container
        container.appendChild(audio);
        container.appendChild(selectContainer);

        // Set the unique ID on the container
        container.id = sanitizedID;

        if (songLabel !== null) {
            // Update the song label with strong tags for "Now Playing"
            songLabel.innerHTML = `<strong>Now Playing</strong>: ${selectedSong.label}`; // Use the song label
        }
    }
</script>-->