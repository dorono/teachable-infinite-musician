<meta
  name="facebook-domain-verification"
  content="9mfpgoflo3fb6pz6fs5gyh075x8vct"
/>

<!--SAMPLE USAGE OF NON-COLLIDING BOOTSTRAP GRIP REPLACEMENT
<div data-imgrid>
  <div class="im-container">
    <div class="im-row">
      <div class="im-col-xs-12 im-col-sm-6 im-col-md-4">A</div>
      <div class="im-col-xs-12 im-col-sm-6 im-col-md-4">B</div>
      <div class="im-col-xs-12 im-col-sm-12 im-col-md-4">C</div>
    </div>
  </div>
</div>

-->

<!-- begin code that was perhaps mistakenly removed -->
<link href="https://vjs.zencdn.net/8.5.2/video-js.css" rel="stylesheet" />

<link
  href="https://cdn.jsdelivr.net/gh/dorono/teachable-infinite-musician/video-player/im-video-player.css"
  rel="stylesheet"
  type="text/css"
/>

<script src="https://cdn.jsdelivr.net/gh/dorono/teachable-infinite-musician/video-player/im-video-player.js"></script>

<!-- end code that was perhaps mistakenly removed -->

<script
  type="text/javascript"
  src="//platform-api.sharethis.com/js/sharethis.js#property=5c4f8b3fc9830d001319af9b&product=inline-share-buttons"
  async="async"
></script>

<script>
  $(function () {
    // $('a[data-role=course-box-link]').each(function(idx,el) {
    //   $(this).on('click',function(e) {
    //     e.stopPropagation();
    //     console.log('IT WORKED');
    //   });
    // });
  
  
  // Red alert banner  
  // var $banner = $(`
  //   <div id="alert-banner" style="background-color:#ff0000; text-align:center;">
  //     <div class="container">
  //       <div class="col-xs-12">
  //         <em style="color: #fff">ENDING WED 11:59pm PST - </em>
  //         <span style="font-weight: bold; color: yellow">30% Off</span>
  //         <span style="color: #fff"> All Courses, Use Coupon Code </span>
  //         <span style="font-weight: bold; color: yellow">FALL30</span>
  //       </div>
  //     </div>
  //   </div>
  // `);
  

  // $('body').prepend($banner);
  

    var queryString = window.location.search;
    var urlParams = new URLSearchParams(queryString);
    var region = urlParams.get('region')

    if (region || localStorage.getItem('REGION')) {
      if (localStorage.getItem('REGION')) {
        region = localStorage.getItem('REGION');
      } else {
         localStorage.setItem('REGION', region)
      }
      $('.view-school:first').addClass('region-'+ region);
      
    }

    var cssCourseBodySelector = "";
    var cssPageSelector = (cssPageSelector =
      window.location.pathname.split("/")[2] || "");
    $("body").addClass("im");

    if (
      window.location.pathname.indexOf(
        "sax-lessons-with-the-stars/lectures"
      ) !== -1 ||
      window.location.pathname.indexOf("691872") !== -1
    ) {
      $("body").addClass("slws-curriculum");
    }

    if (
      window.location.pathname.indexOf("lightning") !== -1 ||
      window.location.pathname.indexOf("ultimate-guide") !== -1 ||
      window.location.pathname.indexOf("sax-lessons-with-the-stars") !== -1 ||
      window.location.pathname.indexOf("bach-shapes") !== -1 ||
      window.location.pathname.indexOf("fun-and-modern-tunes") !== -1 ||
      window.location.pathname.indexOf("little-leaps-and-sounds") !== -1 ||
      window.location.pathname.indexOf("one-chorus-wonders") !== -1
    ) {
      cssCourseBodySelector = "lfcc";

      if (window.location.pathname.indexOf("ultimate-guide") !== -1) {
        cssCourseBodySelector = cssCourseBodySelector + " ugssp";
      }

      if (
        window.location.pathname.indexOf("sax-lessons-with-the-stars") !== -1
      ) {
        cssCourseBodySelector = cssCourseBodySelector + " slws";
      }

      if (window.location.pathname.indexOf("bach-shapes") !== -1) {
        cssCourseBodySelector = cssCourseBodySelector + " bs";
      }

      if (window.location.pathname.indexOf("fun-and-modern-tunes") !== -1) {
        cssCourseBodySelector = " famt";
      }

      if (
        window.location.pathname.indexOf("little-leaps-and-sounds") !== -1 ||
        window.location.pathname.indexOf(2413545) !== -1
      ) {
        cssCourseBodySelector = " lls";
      }

      if (window.location.pathname.indexOf("one-chorus-wonders") !== -1) {
        cssCourseBodySelector = " ocw";
      }
    }

    if (cssCourseBodySelector) {
      $("body").addClass(cssCourseBodySelector);
    }

    if (cssPageSelector) {
      $("body").addClass(cssPageSelector);
    }

    $(".custom-header").each(function () {
      $(this)
        .parents()
        .closest(".container")
        .addClass("custom-header-container");
    });

    console.log("VAL", $("#course-id-val").text());

    var lowerCasePath = window.location.href.toLowerCase();
    if (lowerCasePath.indexOf("music-practice-for-busy-people") !== -1) {
      $(".btn-enroll").each(function (idx, elem) {
        $(elem).text($(elem).text().replace("Enroll", "Pre-Enroll"));
      });
    }

    /*
    var lowerCasePath = window.location.href.toLowerCase();
     if (lowerCasePath.indexOf('giantsound') !== -1) {
        $('.ugssp .reg-price').each(function (idx, elem) {
            $(elem).hide();
        });
        $('.ugssp .discount').each(function (idx, elem) {
            $(elem).show();
        });
    } else {
        $('.ugssp .reg-price').each(function (idx, elem) {
            $(elem).show();
        });
        $('.ugssp .discount').each(function (idx, elem) {
            $(elem).hide();
        });
    }*/

    // insert gift card messaging below all couse purchase buttons
    if ($(".blocks-page-course_sales_page").length) {
      $(".security-v2").each(function () {
        $(this).after(
          '<span class="gift-card-message">üéÅ Looking to purchase this for someone else? At checkout, just check the "Send as a gift" check box.</span>'
        );
      });
    }
  });
</script>

<!-- Global site tag (gtag.js) - Google Ads: 1016009350 -->
<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=AW-1016009350"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "AW-1016009350");
</script>

<script>
$(function () {
  // Inject a11y-friendly "visually hidden" CSS exactly once
  if (!$('#vh-price-style').length) {
    $('head').append(
      '<style id="vh-price-style">' +
        '.visually-hidden-price{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;border:0;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);white-space:nowrap}' +
      '</style>'
    );
  }

  function updatePricingForm($form) {
    var $btnWrapper = $form.find('.block__pricing__button-wrapper').first();
    var $btn = $btnWrapper.find('button.block__pricing__button').first();
    if (!$btn.length) return;

    // Cache the original label once so repeated runs are idempotent
    if (!$btn.data('baseLabel')) {
      $btn.data('baseLabel', $.trim($btn.text()));
    }
    var baseLabel = $btn.data('baseLabel');

    // Find the selected plan
    var $checked = $form.find('input.block__pricing__plan__radio:checked').first();
    if (!$checked.length) return;

    var $plan = $checked.closest('.block__pricing__plan');

    // 1) Hide the selected plan's price (but keep it in the DOM)
    //    First, unhide any previously hidden prices in this form:
    $form.find('.block__pricing__plan__price').removeClass('visually-hidden-price');

    var $priceDiv = $plan.find('.block__pricing__plan__price').first();
    var priceText = $.trim($priceDiv.text());
    if (priceText) $priceDiv.addClass('visually-hidden-price');

    // 2) Move the button wrapper to be BEFORE the "or pay in installments" text
    //    If that span isn't found, fall back to placing it before the payment messaging element.
    var $installments = $plan.find('.bnpl__installments__text').first();
    var $paymentMsg  = $plan.find('#payment-method-messaging-element').first();

    if ($installments.length) {
      $btnWrapper.detach();
      $installments.before($btnWrapper);
    } else if ($paymentMsg.length) {
      $btnWrapper.detach();
      $paymentMsg.before($btnWrapper);
    } else {
      // As a last resort, keep it at the form-level wrapper (idempotent)
      var $fallback = $form.find('.block__pricing__button-wrapper').first();
      if ($fallback.length && !$fallback.is($btnWrapper)) {
        $btnWrapper.detach();
        $fallback.before($btnWrapper);
      }
    }

    // 3) Update the button label to "<original> for <price>"
    if (priceText) {
      $btn.text(baseLabel + ' for ' + priceText);
    } else {
      $btn.text(baseLabel); // revert if no price for some reason
    }
  }
  
  /* BEGIN MOVING PRICE TO BUTTON */
  // Initialize and bind for each pricing form on the page
  // $('form.block__pricing').each(function () {
  //   var $form = $(this);
  //   updatePricingForm($form);

  //   // Re-run when the user switches plans
  //   $form.on('change', 'input.block__pricing__plan__radio', function () {
  //     updatePricingForm($form);
  //   });
  // });
  /* END MOVING PRICE TO BUTTON */
});
 
</script>

<!-- Facebook Pixel Code -->
<script>
  !(function (f, b, e, v, n, t, s) {
    if (f.fbq) return;
    n = f.fbq = function () {
      n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);
    };
    if (!f._fbq) f._fbq = n;
    n.push = n;
    n.loaded = !0;
    n.version = "2.0";
    n.queue = [];
    t = b.createElement(e);
    t.async = !0;
    t.src = v;
    s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s);
  })(
    window,
    document,
    "script",
    "https://connect.facebook.net/en_US/fbevents.js"
  );
  fbq("init", "751675342232877");
  fbq("track", "PageView");
  fbq("dataProcessingOptions", ["LDU"], 0, 0);
</script>
<noscript
  ><img
    height="1"
    width="1"
    style="display: none"
    src="https://www.facebook.com/tr?id=751675342232877&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->