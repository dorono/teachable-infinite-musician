<meta name="facebook-domain-verification" content="9mfpgoflo3fb6pz6fs5gyh075x8vct" />

<script>
  (function () {
    var ALERT_BAR_HTML = `
      <div id="alert-bar" class="px-8"
        style="text-align: center;background-color: #e54b8e;padding: 8px;font-size: 20px;font-weight: bold;color: #fff;">
        <span style="color: #fff">
          20% OFF
          <span style="color: #000"> NEW "Bebop‚ÜíBrecker" Rhythm Changes Pack!</span>
          <a href="https://www.infinitemusician.com/p/rhythm-changes?coupon_code=RHYTHM20&product_id=6519009" style="color:#fff; text-decoration:underline;"><strong>CLICK HERE</strong></a>.          
        </span>
      </div>
    `;

    function injectAlertBar() {
      var header = document.querySelector('header');
      if (!header) return;

      // Don't duplicate
      if (header.querySelector('#alert-bar')) return;

      header.insertAdjacentHTML('beforeend', ALERT_BAR_HTML);
    }

    /* BEGIN CODE TO DISPLAY ALERT BAR */
    document.addEventListener('DOMContentLoaded', function () {

      // injectAlertBar();

      if (!window.MutationObserver || !document.body) return;

      // Watch for SPA DOM changes (header being re-rendered, etc.)
      var observer = new MutationObserver(function () {
        // injectAlertBar();
        // for bundle pages where there is currently no jQuery
        if (window.location.href.toLowerCase().includes("bundle")) {
          document.body.classList.add("bundle");
        }
      });

      observer.observe(document.body, {
        childList: true,
        subtree: true
      });
    });
    /* END CODE TO DISPLAY ALERT BAR */
  })();
</script>


<!-- begin code that was perhaps mistakenly removed -->
<link href="https://vjs.zencdn.net/8.5.2/video-js.css" rel="stylesheet" />

<link href="https://cdn.jsdelivr.net/gh/dorono/teachable-infinite-musician/video-player/im-video-player.css"
  rel="stylesheet" type="text/css" />

<script src="https://cdn.jsdelivr.net/gh/dorono/teachable-infinite-musician/video-player/im-video-player.js"></script>

<!-- end code that was perhaps mistakenly removed -->

<script type="text/javascript"
  src="//platform-api.sharethis.com/js/sharethis.js#property=5c4f8b3fc9830d001319af9b&product=inline-share-buttons"
  async="async"></script>

<script>
  if (window.jQuery) {
    $(function () {
      // $('a[data-role=course-box-link]').each(function(idx,el) {
      //   $(this).on('click',function(e) {
      //     e.stopPropagation();
      //     console.log('IT WORKED');
      //   });
      // });


      // Red alert banner  
      // var $banner = $(`
      //   <div id="alert-banner" style="background-color:#ff0000; text-align:center;">
      //     <div class="container">
      //       <div class="col-xs-12">
      //         <em style="color: #fff">ENDING WED 11:59pm PST - </em>
      //         <span style="font-weight: bold; color: yellow">30% Off</span>
      //         <span style="color: #fff"> All Courses, Use Coupon Code </span>
      //         <span style="font-weight: bold; color: yellow">FALL30</span>
      //       </div>
      //     </div>
      //   </div>
      // `);


      // $('body').prepend($banner);


      var queryString = window.location.search;
      var urlParams = new URLSearchParams(queryString);
      var region = urlParams.get('region')

      if (region || localStorage.getItem('REGION')) {
        if (localStorage.getItem('REGION')) {
          region = localStorage.getItem('REGION');
        } else {
          localStorage.setItem('REGION', region)
        }
        $('.view-school:first').addClass('region-' + region);

      }

      var cssCourseBodySelector = "";
      var cssPageSelector = (cssPageSelector =
        window.location.pathname.split("/")[2] || "");
      $("body").addClass("im");

      if (
        window.location.pathname.indexOf(
          "sax-lessons-with-the-stars/lectures"
        ) !== -1 ||
        window.location.pathname.indexOf("691872") !== -1
      ) {
        $("body").addClass("slws-curriculum");
      }

      if (
        window.location.pathname.indexOf("lightning") !== -1 ||
        window.location.pathname.indexOf("ultimate-guide") !== -1 ||
        window.location.pathname.indexOf("sax-lessons-with-the-stars") !== -1 ||
        window.location.pathname.indexOf("bach-shapes") !== -1 ||
        window.location.pathname.indexOf("fun-and-modern-tunes") !== -1 ||
        window.location.pathname.indexOf("little-leaps-and-sounds") !== -1 ||
        window.location.pathname.indexOf("one-chorus-wonders") !== -1
      ) {
        cssCourseBodySelector = "lfcc";

        if (window.location.pathname.indexOf("ultimate-guide") !== -1) {
          cssCourseBodySelector = cssCourseBodySelector + " ugssp";
        }

        if (
          window.location.pathname.indexOf("sax-lessons-with-the-stars") !== -1
        ) {
          cssCourseBodySelector = cssCourseBodySelector + " slws";
        }

        if (window.location.pathname.indexOf("bach-shapes") !== -1) {
          cssCourseBodySelector = cssCourseBodySelector + " bs";
        }

        if (window.location.pathname.indexOf("bundle") !== -1) {
          cssCourseBodySelector = cssCourseBodySelector + " bundle";
        }

        if (window.location.pathname.indexOf("fun-and-modern-tunes") !== -1) {
          cssCourseBodySelector = " famt";
        }

        if (
          window.location.pathname.indexOf("little-leaps-and-sounds") !== -1 ||
          window.location.pathname.indexOf(2413545) !== -1
        ) {
          cssCourseBodySelector = " lls";
        }

        if (window.location.pathname.indexOf("one-chorus-wonders") !== -1) {
          cssCourseBodySelector = " ocw";
        }
      }

      if (cssCourseBodySelector) {
        $("body").addClass(cssCourseBodySelector);
      }

      if (cssPageSelector) {
        $("body").addClass(cssPageSelector);
      }

      $(".custom-header").each(function () {
        $(this)
          .parents()
          .closest(".container")
          .addClass("custom-header-container");
      });

      console.log("VAL", $("#course-id-val").text());

      var lowerCasePath = window.location.href.toLowerCase();
      if (lowerCasePath.indexOf("music-practice-for-busy-people") !== -1) {
        $(".btn-enroll").each(function (idx, elem) {
          $(elem).text($(elem).text().replace("Enroll", "Pre-Enroll"));
        });
      }

      /*
      var lowerCasePath = window.location.href.toLowerCase();
       if (lowerCasePath.indexOf('giantsound') !== -1) {
          $('.ugssp .reg-price').each(function (idx, elem) {
              $(elem).hide();
          });
          $('.ugssp .discount').each(function (idx, elem) {
              $(elem).show();
          });
      } else {
          $('.ugssp .reg-price').each(function (idx, elem) {
              $(elem).show();
          });
          $('.ugssp .discount').each(function (idx, elem) {
              $(elem).hide();
          });
      }*/

      // insert gift card messaging below all couse purchase buttons
      if ($(".blocks-page-course_sales_page").length) {
        $(".security-v2").each(function () {
          $(this).after(
            '<span class="gift-card-message">üéÅ Looking to purchase this for someone else? At checkout, just check the "Send as a gift" check box.</span>'
          );
        });
      }
    });
  }
</script>

<!-- CODE TO DISPLAY GERMAN-LANGAUAGE WELCOME BLOCK -->
<script>
  (function () {
    const COUPON = 'SAXOFUN20';
    const STORAGE_KEY = 'im_show_de_block';
    const UGSSP_PATH_SNIPPET = '/p/ultimate-guide-to-saxophone-sound-production';

    function onUgsspPage() {
      return window.location.pathname.indexOf(UGSSP_PATH_SNIPPET) !== -1;
    }

    function hasCoupon() {
      return new URLSearchParams(window.location.search).get('coupon_code') === COUPON;
    }

    function removeBlockIfPresent() {
      const existing = document.getElementById('de-welcome-block');
      if (existing) existing.remove();
    }

    function showBlock() {
      if (document.getElementById('de-welcome-block')) return;

      const block = document.createElement('div');
      block.id = 'de-welcome-block';
      block.style.background = '#f5f7f9';
      block.style.border = '1px solid #e0e0e0';
      block.style.padding = '16px';

      block.innerHTML = `
        <strong style="font-size:16px;">
          üá©üá™ Willkommen, Saxofreunde aus Deutschland, √ñsterreich und der Schweiz!
        </strong>

        <p style="margin:8px 0; font-size:15px; line-height:1.5em;">
          Der Unterricht ist <strong>auf Englisch</strong>, mit
          <strong>sorgf√§ltig √ºberarbeiteten englischen Untertiteln</strong>.
        </p>

        <p style="margin:8px 0; font-size:15px; line-height:1.5em;">
          Zum Start gibt‚Äôs <strong>20 % Einf√ºhrungspreis</strong> f√ºr DE/AT/CH. Wenn du √ºber diese Anzeige hier bist, sollte der Rabatt automatisch erscheinen.
        </p>

        <p style="margin:0; font-size:15px; line-height:1.5em;">
          Falls nicht, nutze bitte den Code:
          <strong>${COUPON}</strong>
        </p>
    `;

      const anchor =
        document.querySelector('.course-hero') ||
        document.querySelector('main') ||
        document.body;

      anchor.parentNode.insertBefore(block, anchor);
    }

    function run() {
      // If we're NOT on UGSSP, ensure the block isn't hanging around
      if (!onUgsspPage()) {
        removeBlockIfPresent();
        return;
      }

      // If we ARE on UGSSP, set the flag when coupon is present
      if (hasCoupon()) {
        localStorage.setItem(STORAGE_KEY, '1');
      }

      // Show block if we've ever seen the coupon
      if (localStorage.getItem(STORAGE_KEY) === '1') {
        showBlock();
      } else {
        removeBlockIfPresent();
      }
    }

    // Run once on load‚Ä¶
    document.addEventListener('DOMContentLoaded', run);

    // ‚Ä¶and also handle ‚Äúsoft navigations‚Äù (Teachable sometimes changes URL without full reload)
    window.addEventListener('popstate', run);

    // Fallback: if Teachable does a pushState navigation without triggering popstate,
    // rerun shortly after load
    setTimeout(run, 500);
  })();
</script>

<!-- Global site tag (gtag.js) - Google Ads: 1016009350 -->
<!-- COMMENTING THIS OUT AT LEAST TEMPORARILY DUE TO INCORRECT EVENT BEING SENT VIA META PIXEL -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=AW-1016009350"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "AW-1016009350");
</script> -->

<!-- Facebook Pixel Code - COMMENTING OUT FOR NOW SINCE WE ARE USING TEACHABLE'S META PIXEL APP -->
<!--<script>
  
  !(function (f, b, e, v, n, t, s) {
    if (f.fbq) return;
    n = f.fbq = function () {
      n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);
    };
    if (!f._fbq) f._fbq = n;
    n.push = n;
    n.loaded = !0;
    n.version = "2.0";
    n.queue = [];
    t = b.createElement(e);
    t.async = !0;
    t.src = v;
    s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s);
  })(
    window,
    document,
    "script",
    "https://connect.facebook.net/en_US/fbevents.js"
  );
  fbq("init", "751675342232877");
  fbq("track", "PageView");
  fbq("dataProcessingOptions", ["LDU"], 0, 0);
</script>
<noscript><img height="1" width="1" style="display: none"
    src="https://www.facebook.com/tr?id=751675342232877&ev=PageView&noscript=1" /></noscript>
    -->
<!-- End Facebook Pixel Code -->